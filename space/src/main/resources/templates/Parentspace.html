<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>书籍存放</title>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"  media="all"/>
    <link th:href="@{/layui/spop-0.1.3/dist/spop.css}" rel="stylesheet">
    <link th:href="@{/layui/css/spop.css}" rel="stylesheet">
    <script th:src="@{/layui/layui.js}"></script>
    <script th:src="@{/js/space.js}"></script>
    <script th:src="@{/js/spopUtil.js}"></script>
    <script th:src="@{/spop-0.1.3/dist/spop.js}"></script>
    <style type="text/css">
        body{padding: 10px 30px;}
        .hide{display:none}
    </style>
</head>
<body>
    <blockquote class="layui-elem-quote">所有监听数据请打开控制台查看</blockquote>

    <button class="layui-btn layui-btn-primary up-all">全部收起</button>
    <button class="layui-btn layui-btn-primary down-all">全部展开</button>
    <button class="layui-btn layui-btn-primary get-checked">获取选中</button>
    <button class="layui-btn layui-btn-primary add-parentsapce">添加最大父空间</button>

    <table class="layui-table layui-form" id="test-tree-table"></table>
    <div id="view"></div>
    <script id="demo" type="text/html">
        <form class="layui-form" action="" id="SpaceForm">
            <label class="layui-form-label"></label>
            {{#  if(d.parentId){ }}
            <input name="parentId" type="hidden" value="{{d.parentId}}"/>
            {{#  } }}
            {{#  if(d.id){ }}
            <input name="id" type="hidden" value="{{d.id}}"/>
            {{#  } }}
            <div class="layui-form-item">
                <label class="layui-form-label">空间名称</label>
                <div class="layui-input-inline" style="width: 179px;">
                    <input id="spaceName" type="text" name="spaceName" placeholder="请输入名称" autocomplete="off" class="layui-input" value="{{ d.spaceName }}">
                </div>
            </div>
            <div class="layui-form-item layui-form-text">
                <label class="layui-form-label">备注</label>
                <div class="layui-input-inline">
                    {{#  if(d.remark === null){ }}
                    {{d.remark=""}}
                    {{#  } }}
                    <textarea id="spaceremark" name="remark" placeholder="请输入备注" class="layui-textarea" value="{{}}">{{d.remark}}</textarea>
                </div>
            </div>
            {{#  if(d.submitType > 0 ){ }}
            <div class="layui-form-item">
                <label class="layui-form-label"></label>
                <div class="layui-input-block">
                    <button id="submitSpace" type="button" class="layui-btn" lay-submit lay-filter="save" submitType="{{d.submitType}}">立即提交</button>
                </div>
            </div>
            {{#  } }}
        </form>


    </script>
    <div id="view2"></div>
    <script id="demo2" type="text/html">
        <form class="layui-form" action="" id="SpaceForm2">
            {{#  if(d.id){ }}
            <input name="id" type="hidden" value="{{d.id}}"/>
            {{#  } }}
            <div class="layui-form-item">
                <label class="layui-form-label">移动到</label>
                <div class="layui-input-inline" style="width: 179px;">
                    <input id="parentId" type="text" name="pid" placeholder="请输入ID" autocomplete="off" class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label"></label>
                <div class="layui-input-block">
                    <button id="submitSpace2" type="button" class="layui-btn" lay-submit lay-filter="move" >立即提交</button>
                </div>
            </div>
        </form>
    </script>

    <div id="view3"></div>
    <script  id="demo3" type="text/html">

        <table id="SelSpaceBook" class="layui-table"
            lay-data="{ url:'/book/list.json', page:true, id:'test',toolbar: '#headTemplate',done:function(res, curr, count){ pageCh(res, curr, count) }}"
            lay-filter="test">
            <thead>
            <tr>
            <th lay-data="{type:'checkbox', width:40}"></th>
            <th lay-data="{field:'id', width:60, hide:true, sort: true}">ID</th>
            <th lay-data="{field:'bookName',sort: true}">书籍名称</th>
            <th lay-data="{field:'bookCode',hide:true,sort: true}">书籍编号</th>
            <th lay-data="{field:'authorName',sort: true}">作者</th>
            <th lay-data="{field:'price',sort: true}">价格</th>
            <th lay-data="{field:'pressName',sort: true}">出版社</th>
            <th lay-data="{field:'bookTypeId',sort: true,templet:function(bookTypeId){return getBookType(bookTypeId)} }">
            书籍类型
            </th>
            <th lay-data="{field:'bookLeaseId',hide:true,templet:function(obj){if(obj.bookLeaseId==0 || obj.bookLeaseId==null){return '未被租借'}else{ return '租借中' } }}">书籍租借状态</th>
            <th lay-data="{field:'bookLeaseType',hide:true,sort: true }">书籍租借类型</th>
            <th lay-data="{field:'bookChcoType',sort: true,templet:function(obj){if(obj.bookChcoType==0){return '免费'}else{ return '收费' } }}">
            收费方式
            </th>
            <th lay-data="{field:'status',toolbar:'#bookstatus',align:'center'}">状态</th>
            <th lay-data="{field:'bookSpaceId',sort: true,toolbar:'#bookSpace',hide:true,align:'center'}">存放地点</th>
            <th lay-data="{field:'operator',hide:true,  sort: true}">创建人</th>
            <th lay-data="{field:'operateTime',sort: true,hide:true,align:'center',templet:function(operateTime){return createTime(operateTime)} }">
            创建时间
            </th>
            <th lay-data="{field:'remark'}">备注</th>
            <span isis="tt"></span>
            <th lay-data="{fixed: 'right',toolbar:'#barDemo', width:175,align:'center'}"></th>
            </tr>
            </thead>
            </table>
    </script>
</body>

</html>